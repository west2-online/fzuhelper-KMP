name: æ–‡æ¡£éƒ¨ç½²ğŸš€
run-name: ${{ github.actor }} æ­£åœ¨éƒ¨ç½²æ–‡æ¡£
on: [push]
permissions:
  contents: write
jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
        name: æ›´æ¢å½“å‰ç›®å½•
      - uses: actions/setup-java@v4
        with:
          distribution: 'temurin' # See 'Supported distributions' for available options
          java-version: '17'
          name: è®¾ç½®javaç‰ˆæœ¬
      - name: æŸ¥çœ‹ç¯å¢ƒ
        run: pwd
      - name: æŸ¥çœ‹ç¯å¢ƒ
        run: ls
      - name: è®¾ç½®
        run: chmod +x gradlew
      - name: éªŒè¯gradleç¯å¢ƒ
        run : sudo ./gradlew --version
      - name: ç”Ÿæˆæ–‡æ¡£
        run: ./gradlew :shared:dokkaHtml
      - name: éªŒè¯æ–‡ä»¶
        run: tree shared/build/dokka/html
      - name: éƒ¨ç½²æ–‡æ¡£ ğŸš€
        uses: JamesIves/github-pages-deploy-action@v4
        with:
          folder: shared/build/dokka/html
          branch: docx
#          repository-name: Futalker/test
#          token: ${{ secrets.TOKEN }}